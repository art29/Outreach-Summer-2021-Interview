(function(e){function t(t){for(var r,o,c=t[0],l=t[1],i=t[2],d=0,b=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&b.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(b.length)b.shift()();return s.push.apply(s,i||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,c=1;c<a.length;c++){var l=a[c];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/outreach-waste-wizard/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("7a23"),n=a("d1d6"),s=a.n(n);function o(e,t){var a=Object(r["v"])("router-view");return Object(r["o"])(),Object(r["d"])("div",null,[Object(r["f"])(a)])}const c={};c.render=o;var l=c,i=a("6c02"),u={class:"home"},d={class:"row p-3"},b={class:"col-md-6"},p={class:"col-md-6"};function f(e,t,a,n,s,o){var c=Object(r["v"])("Search"),l=Object(r["v"])("WasteRoom");return Object(r["o"])(),Object(r["d"])("div",u,[Object(r["f"])("div",d,[Object(r["f"])("div",b,[Object(r["f"])(c,{onAddToWasteRoom:o.addToWasteRoom,titles:s.titles},null,8,["onAddToWasteRoom","titles"])]),Object(r["f"])("div",p,[Object(r["f"])(l,{onRemoveFromWasteRoom:o.removeFromWasteRoom,"new-waste-room-data":s.wasteRoom},null,8,["onRemoveFromWasteRoom","new-waste-room-data"])])])])}a("c975"),a("a434"),a("caad"),a("2532");var h=Object(r["C"])("data-v-5b340edb");Object(r["r"])("data-v-5b340edb");var g={id:"v-for-sectors",class:"m-0"},O={class:"float-left"},m=Object(r["f"])("label",{for:"searchbar"},"Search for household item",-1),j={class:"input-group w-80"},v={class:"form-control",placeholder:"search",id:"searchbar"},y=Object(r["f"])("span",{class:"input-group-append"},[Object(r["f"])("button",{class:"btn btn-secondary",type:"button"},[Object(r["f"])("i",{class:"fa fa-search"})])],-1),w={class:"p-2"},R={class:"col-md-2 text-center"},S=Object(r["f"])("br",null,null,-1),W={class:"col-md-3 align-self-center"},k={class:"text-center"};Object(r["p"])();var _=h((function(e,t,a,n,s,o){var c=Object(r["w"])("debounce");return Object(r["o"])(),Object(r["d"])("div",null,[Object(r["f"])("div",g,[Object(r["f"])("div",O,[m,Object(r["f"])("div",j,[Object(r["B"])(Object(r["f"])("input",v,null,512),[[c,o.updateSearch]]),y])]),Object(r["f"])("ul",w,[(Object(r["o"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(o.filteredList,(function(e){return Object(r["o"])(),Object(r["d"])("div",{class:"row border border-dark p-2",style:{"text-align":"left!important"},key:e},[Object(r["f"])("div",R,[Object(r["f"])("p",null,Object(r["y"])(e.title),1),Object(r["f"])("img",{src:o.getImageURL(e.category),width:"60"},null,8,["src"]),S,Object(r["f"])("p",null,Object(r["y"])(e.category),1)]),Object(r["f"])("div",{innerHTML:o.decodeHtml(e.body),class:"col-md-7",style:{overflow:"hidden"}},null,8,["innerHTML"]),Object(r["f"])("div",W,[Object(r["f"])("button",{class:"btn btn-secondary",disabled:!0===a.titles.includes(e.title),onClick:function(t){return o.addToWasteRoom(e)}}," Add in Waste Room ",8,["disabled","onClick"])])])})),128))])]),Object(r["f"])("div",k,[s.currentResults<s.totalResults?(Object(r["o"])(),Object(r["d"])("span",{key:0,style:{"text-decoration":"underline"},onClick:t[1]||(t[1]=function(){return o.loadMore&&o.loadMore.apply(o,arguments)})},"Load More")):Object(r["e"])("",!0)])])})),I=(a("4de4"),a("d81d"),a("fb6a"),a("07ac"),a("bc3a")),x=a.n(I),z={name:"Search",data:function(){return{searchQuery:"",data:[],totalResults:"",currentResults:5,error:""}},props:{titles:{}},created:function(){var e=this;x.a.get("https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000").then((function(t){e.data=t.data,e.totalResults=e.data.length})).catch((function(t){return e.setError(t,"Something went wrong")}))},methods:{setError:function(e,t){this.error=e.response&&e.response.data&&e.response.data.error||t},decodeHtml:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},addToWasteRoom:function(e){this.$emit("addToWasteRoom",e)},loadMore:function(){this.currentResults+=5},matches:function(e){var t=this.searchQuery.toLowerCase();return e.keywords.toLowerCase().includes(t)},updateSearch:function(e){this.searchQuery=e},getImageURL:function(e){return"Garbage"===e?"assets/garbagebin.png":"Blue Bin"===e?"assets/bluebin.png":"Green Bin"===e?"assets/greenbin.png":"HHW"===e?"assets/hhw.jpg":"Depot"===e?"assets/depot.jpg":"Oversize"===e?"assets/oversized.png":"Yard Waste"===e?"assets/yardwaste.png":"Christmas Tree"===e?"assets/christmastree.jpg":"Metal Items"===e?"assets/metal.png":"Electronic Waste"===e?"assets/ewaste.png":"Not Accepted"===e?"assets/notaccepted.png":"assets/logo.png"}},computed:{listValues:function(){return Object.values(this.data)},filteredList:function(){var e=this;if(!this.searchQuery)return this.totalResults=this.listValues.length,this.listValues.slice(0,this.currentResults);var t=this.listValues.map((function(t){if(e.matches(t))return t})).filter((function(e){return e}));return this.totalResults=t.length,t.slice(0,this.currentResults)}}};z.render=_,z.__scopeId="data-v-5b340edb";var C=z,J=Object(r["C"])("data-v-1e99abce");Object(r["r"])("data-v-1e99abce");var M=Object(r["f"])("h1",null,"My Waste Room",-1),N={class:"w-100 border border-dark",style:{"min-height":"200px"}},T=Object(r["f"])("span",{class:"p-1"},"Garbage",-1),H=Object(r["f"])("br",null,null,-1),D={class:"input-group-prepend"},L={class:"input-group-text bg-white"},P=Object(r["f"])("br",null,null,-1),B={class:"w-100 border border-dark",style:{"min-height":"200px"}},A=Object(r["f"])("span",{class:"p-1"},"Compost & Yard Waste",-1),E=Object(r["f"])("br",null,null,-1),F={class:"input-group-prepend"},G={class:"input-group-text bg-white"},Q=Object(r["f"])("br",null,null,-1),V={class:"w-100 border border-dark",style:{"min-height":"200px"}},X=Object(r["f"])("span",{class:"p-1"},"Recycling",-1),Y=Object(r["f"])("br",null,null,-1),U={class:"input-group-prepend"},$={class:"input-group-text bg-white"},q=Object(r["f"])("br",null,null,-1),K={class:"w-100 border border-dark",style:{"min-height":"200px"}},Z=Object(r["f"])("span",{class:"p-1"},"Hazard Waste",-1),ee=Object(r["f"])("br",null,null,-1),te={class:"input-group-prepend"},ae={class:"input-group-text bg-white"};Object(r["p"])();var re=J((function(e,t,a,n,s,o){return Object(r["o"])(),Object(r["d"])("div",null,[M,Object(r["f"])("div",N,[T,H,(Object(r["o"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(s.garbage,(function(e,t){return Object(r["o"])(),Object(r["d"])("div",{key:e,class:"input-group p-2"},[Object(r["f"])("div",D,[Object(r["f"])("div",L,Object(r["y"])(e.title),1)]),Object(r["f"])("button",{onClick:function(a){return o.deleteWaste(e.title,t,"garbage")},class:"btn btn-secondary"},"X",8,["onClick"])])})),128))]),P,Object(r["f"])("div",B,[A,E,(Object(r["o"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(s.compost_yard,(function(e,t){return Object(r["o"])(),Object(r["d"])("div",{key:e,class:"input-group p-2"},[Object(r["f"])("div",F,[Object(r["f"])("div",G,Object(r["y"])(e.title),1)]),Object(r["f"])("button",{onClick:function(a){return o.deleteWaste(e.title,t,"compost")},class:"btn btn-secondary"},"X",8,["onClick"])])})),128))]),Q,Object(r["f"])("div",V,[X,Y,(Object(r["o"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(s.recycling,(function(e,t){return Object(r["o"])(),Object(r["d"])("div",{key:e,class:"input-group p-2"},[Object(r["f"])("div",U,[Object(r["f"])("div",$,Object(r["y"])(e.title),1)]),Object(r["f"])("button",{onClick:function(a){return o.deleteWaste(e.title,t,"recycling")},class:"btn btn-secondary"},"X",8,["onClick"])])})),128))]),q,Object(r["f"])("div",K,[Z,ee,(Object(r["o"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(s.hazard,(function(e,t){return Object(r["o"])(),Object(r["d"])("div",{key:e,class:"input-group p-2"},[Object(r["f"])("div",te,[Object(r["f"])("div",ae,Object(r["y"])(e.title),1)]),Object(r["f"])("button",{onClick:function(a){return o.deleteWaste(e.title,t,"hazard")},class:"btn btn-secondary"},"X",8,["onClick"])])})),128))])])})),ne=(a("45fc"),{name:"WasteRoom",props:{newWasteRoomData:{}},data:function(){return{garbage:[],compost_yard:[],recycling:[],hazard:[]}},methods:{deleteWaste:function(e,t,a){"garbage"===a?this.garbage.splice(t,1):"compost"===a?this.compost_yard.splice(t,1):"recycling"===a?this.recycling.splice(t,1):"hazard"===a&&this.hazard.splice(t,1),this.$emit("removeFromWasteRoom",e)}},mounted:function(){localStorage.getItem("garbage")&&(this.garbage=JSON.parse(localStorage.getItem("garbage"))),localStorage.getItem("compost_yard")&&(this.compost_yard=JSON.parse(localStorage.getItem("compost_yard"))),localStorage.getItem("recycling")&&(this.recycling=JSON.parse(localStorage.getItem("recycling"))),localStorage.getItem("hazard")&&(this.hazard=JSON.parse(localStorage.getItem("hazard")))},watch:{newWasteRoomData:function(){function e(e,t){var a=JSON.stringify(t);return e.some((function(e){return JSON.stringify(e)===a}))}var t=this.newWasteRoomData.category,a=this.newWasteRoomData;"Garbage"!==t||e(this.garbage,a)?"Blue Bin"!==t||e(this.recycling,a)?"Green Bin"!==t&&"Yard Waste"!==t&&"Christmas Tree"!==t||e(this.compost_yard,a)?"HHW"!==t&&"Depot"!==t&&"Oversize"!==t&&"Metal Items"!==t&&"Electronic Waste"!==t&&"Not Accepted"!==t||e(this.hazard,a)||this.hazard.push(this.newWasteRoomData):this.compost_yard.push(this.newWasteRoomData):this.recycling.push(this.newWasteRoomData):this.garbage.push(this.newWasteRoomData)},garbage:{handler:function(e){localStorage.setItem("garbage",JSON.stringify(e))},deep:!0},compost_yard:{handler:function(e){localStorage.setItem("compost_yard",JSON.stringify(e))},deep:!0},recycling:{handler:function(e){localStorage.setItem("recycling",JSON.stringify(e))},deep:!0},hazard:{handler:function(e){localStorage.setItem("hazard",JSON.stringify(e))},deep:!0}}});ne.render=re,ne.__scopeId="data-v-1e99abce";var se=ne,oe={name:"Home",data:function(){return{wasteRoom:[],titles:[]}},components:{Search:C,WasteRoom:se},mounted:function(){localStorage.getItem("titles")&&(this.titles=JSON.parse(localStorage.getItem("titles")))},methods:{addToWasteRoom:function(e){this.titles.push(e.title),this.wasteRoom=e},removeFromWasteRoom:function(e){var t=this.titles.indexOf(e);t>-1&&this.titles.splice(t,1),this.wasteRoom=[]}},watch:{titles:{handler:function(e){localStorage.setItem("titles",JSON.stringify(e))},deep:!0}}};oe.render=f;var ce=oe,le=[{path:"/",name:"Home",component:ce}],ie=Object(i["a"])({history:Object(i["b"])(),routes:le}),ue=ie;Object(r["c"])(l).use(ue).use(s.a).mount("#app")}});
//# sourceMappingURL=app.d93582ee.js.map